(this.webpackJsonpreactt=this.webpackJsonpreactt||[]).push([[0],{31:function(e,t,n){e.exports=n(46)},46:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"primaryColor",(function(){return s})),n.d(r,"secondaryColor",(function(){return l})),n.d(r,"nonActiveColor",(function(){return u})),n.d(r,"activeColor",(function(){return d}));var a=n(0),o=n.n(a),i=n(12),c=(n(36),n(2)),s="#121212",l="#fff",u="#C4C4C4",d="#D95640",p=n(10),f=n(3),h=n(9),b=n(6);function m(){var e=Object(f.a)(["\n  display: inline-block;\n  font-family: GTWalsheimPro;\n  font-size: 20px;\n  text-transform: uppercase;\n"]);return m=function(){return e},e}function y(){var e=Object(f.a)(["\n\n  &.isLeftArrow{\n    font-size: 13px;\n  }\n\n  &.isBars{\n    font-size: 15px;\n  }\n"]);return y=function(){return e},e}function v(){var e=Object(f.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 50px;\n  box-sizing: border-box;\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  color: ",";\n  background: ",";\n"]);return v=function(){return e},e}var g=c.b.div(v(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.secondaryColor})),x=Object(c.b)(h.a)(y()),_=c.b.h2(m());var E=function(){return o.a.createElement(g,null,o.a.createElement(x,{icon:b.b,className:"isLeftArrow"}),o.a.createElement(_,null,"react delivery"),o.a.createElement(x,{icon:b.a,className:"isBars"}))},C=n(22),j=Object(C.b)({accessToken:"pk.eyJ1IjoiYmxpbmRtYW4yMCIsImEiOiJjazVqbW92aHowNG5qM2txazM4MHR1b3o0In0.OBRzj-3gGUTHipAJbpClPw"});var O=function(e){var t=o.a.createRef(),n=e.coords;return Object(a.useEffect)((function(){})),o.a.createElement("div",null,o.a.createElement(j,{style:"mapbox://styles/mapbox/streets-v8",ref:t,center:[n.lng,n.lat],zoom:n.zoom,containerStyle:{position:"absolute",bottom:0,top:"50px",left:0,width:"100%",height:"auto"}},n.address_value?o.a.createElement(C.a,{coordinates:[n.lng,n.lat],anchor:"bottom",style:{textAlign:"center",zIndex:0}},o.a.createElement("span",{style:{fontWeight:500,fontSize:"26px",lineHeight:"30px",textTransform:"uppercase",color:"#121212"}},n.address_value),o.a.createElement("span",{style:{display:"block",width:"15px",height:"15px",background:"#D95640",borderRadius:"50%",margin:"0 auto"}}),o.a.createElement("span",{style:{display:"inline-block",width:"5px",height:"20px",background:"#D95640",borderRadius:"0 0 20px 20px"}})):o.a.createElement("span",null)))};function k(){var e=Object(f.a)(["\n  width: 100%;\n  height: 50px;\n  color: ",";\n  background: ",";\n  font-family: GTWalsheimPro;\n  font-style: normal;\n  font-weight: 500;\n  font-size: 20px;\n  line-height: 23px;\n  text-align: center;\n  border: 0;\n  border-radius: 45.5px;\n  cursor: pointer;\n"]);return k=function(){return e},e}var w=c.b.button(k(),(function(e){return e.theme.secondaryColor}),(function(e){return e.theme.primaryColor}));function A(){var e=Object(f.a)(["\n  position: absolute;\n  bottom: 30px;\n  right: 20px;\n  left: 20px;\n"]);return A=function(){return e},e}var I=c.b.div(A());var S=function(){return o.a.createElement(I,null,o.a.createElement(w,null,"\u0414\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u044e\u0434\u0430"))};function z(){var e=Object(f.a)(["\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  background: ",";\n  font-size: 21px;\n  width: 50px;\n  height: 50px;\n  border-radius: 25px;\n  position: absolute;\n  bottom: 195px;\n  right: 20px;\n"]);return z=function(){return e},e}var L=c.b.span(z(),(function(e){return e.theme.secondaryColor}));var R=function(){return o.a.createElement(L,null,o.a.createElement(h.a,{icon:b.c}))},T=n(30),q=n(7),F=n(8),D=n(15),N=n(13),P=n(5),B=n(14);function G(){var e=Object(f.a)(["\n  width: auto;\n  padding: 13px 15px 16px;\n  font-size: 18px;\n  line-height: 21px;\n  margin-right: 15px;\n\n  &:first-child{\n    margin-left: 20px;\n  }\n\n  &:last-child{\n    margin-right: 0;\n  }\n\n  background: ",";\n\n  ","\n"]);return G=function(){return e},e}var M=Object(c.b)(w)(G(),(function(e){return e.theme.secondaryColor}),(function(e){return e.isTextGray?"color:#808080":"color:".concat(e.theme.primaryColor)}));function V(){var e=Object(f.a)(["\n  width: auto;\n  height: 50px;\n  overflow: hidden;\n  white-space: nowrap;\n  position: absolute;\n  bottom: 105px;\n  left: 0px;\n  right: 0;\n"]);return V=function(){return e},e}var J=c.b.div(V()),W=function(e){function t(e){var n;return Object(q.a)(this,t),(n=Object(D.a)(this,Object(N.a)(t).call(this,e))).state={savedAddresses:[{street:"\u041d\u0435\u0432\u0441\u043a\u0438\u0439 \u043f\u0440., 28",lng:30.3260765,lat:59.9355354}]},n.setCoordsAddress=n.props.setCoordsAddress,n.slide=n.slide.bind(Object(P.a)(n)),n.addAddress=n.addAddress.bind(Object(P.a)(n)),n}return Object(B.a)(t,e),Object(F.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.coordsAddress;t.address_value!==e.coordsAddress.address_value&&this.addAddress(t,e.coordsAddress)}},{key:"addAddress",value:function(e,t){this.setState({savedAddresses:[{street:e.address_value,lng:e.lng,lat:e.lat},{street:t.address_value,lng:t.lng,lat:t.lat}]})}},{key:"searchContainerUp",value:function(){(0,this.props.setVisibility)("up")}},{key:"updateCoords",value:function(e){this.setCoordsAddress(Object(T.a)({},e,{address_value:e.street,zoom:[17.5]}))}},{key:"slide",value:function(e){var t=this.sliderRef,n=t.children;if(!(n.length<3)){var r,a=this.sliderButtonRef;r=""===a.style.marginLeft?e.pageX-20:e.pageX-parseInt(a.style.marginLeft,10);var o=0;(n=Array.prototype.slice.call(n)).forEach((function(e){o+=parseInt(getComputedStyle(e).width,10)+15})),o+=5;var i=parseInt(getComputedStyle(t).width,10),c=i-o;s(e.pageX),document.addEventListener("mousemove",l),document.addEventListener("touchmove",l),document.body.onmouseup=function(){document.removeEventListener("mousemove",l),document.body.onmouseup=null},document.body.ontouchend=function(){document.removeEventListener("touchmove",l),document.body.ontouchend=null}}function s(e){a.style.marginLeft="".concat(e-r,"px"),parseInt(a.style.marginLeft,10)>20?a.style.marginLeft="".concat(20,"px"):parseInt(a.style.marginLeft,10)<c&&(a.style.marginLeft="".concat(c,"px"))}function l(e){s(e.pageX)}}},{key:"render",value:function(){var e=this,t=this.state.savedAddresses;return o.a.createElement(J,{ref:function(t){e.sliderRef=t},onTouchStart:this.slide,onMouseDown:this.slide},o.a.createElement(M,{isTextGray:!0,ref:function(t){e.sliderButtonRef=t},onClick:function(){return e.searchContainerUp()}},"\u041a\u0443\u0434\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c?"),void 0===t[0]?t[0]:t[0].street&&o.a.createElement(M,{onClick:function(){return e.updateCoords(t[0])}},t[0].street),void 0===t[1]?t[1]:t[1].street&&o.a.createElement(M,{onClick:function(){return e.updateCoords(t[1])}},t[1].street))}}]),t}(o.a.Component),H=n(28);function Q(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,r=new Request("https://suggestions.dadata.ru/suggestions/api/4_1/rs/suggest/address",{method:"POST",headers:new Headers({"Content-Type":"application/json",Accept:"application/json",Authorization:"Token 1e4cb9c1bbeff03271767fb32b42cfb6721e8927"}),body:JSON.stringify({query:t,count:n,locations:[{city:"\u0421\u0430\u043d\u043a\u0442-\u041f\u0435\u0442\u0435\u0440\u0431\u0443\u0440\u0433"}]})});fetch(r).then((function(e){return e.json()})).then((function(t){e(t.suggestions)}))}function U(){var e=Object(f.a)(["\n  max-height: 215px;\n  height: auto;\n  overflow: hidden;\n  font-size: 17px;\n  line-height: 19px;\n  color: ",";\n  padding: 0;\n\n  & > li{\n    height: 71px;\n    box-sizing: border-box;\n    border-bottom: 1px solid #EEE;\n    list-style-type: none;\n    padding: 15px 0;\n  }\n\n  & span.street{\n    display: inline-block;\n  }\n\n  & span.region{\n    font-size: 13px;\n    line-height: 13px;\n    color: ",";\n  }\n"]);return U=function(){return e},e}function X(){var e=Object(f.a)(["\n  width: 100%;\n  font-size: 17px;\n  line-height: 18px;\n  color: ",";\n  margin: 19px 0 35px;\n  padding: 4px 0;\n  border: 0;\n  border-bottom: 1px solid #eee;\n  outline: 0;\n\n  &::placeholder{\n    color: ",";\n  }\n  &:focus{\n    border-bottom-color: #EFB8AF;\n  }\n"]);return X=function(){return e},e}function Y(){var e=Object(f.a)(["\n  display: none;\n  font-size: 13px;\n  line-height: 14px;\n  color: ",";\n  position: relative;\n  top: 31px;\n"]);return Y=function(){return e},e}var K=c.b.label(Y(),(function(e){return e.theme.nonActiveColor})),Z=c.b.input.attrs((function(){return{placeholder:"\u041a\u0443\u0434\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c?"}}))(X(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.nonActiveColor})),$=c.b.ul(U(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.nonActiveColor})),ee=function(e){function t(e){var n;return Object(q.a)(this,t),(n=Object(D.a)(this,Object(N.a)(t).call(this,e))).searchInputRef=o.a.createRef(),n.searchLabelRef=o.a.createRef(),n.state={streetsList:[]},n.isDownshiftFocus=n.isDownshiftFocus.bind(Object(P.a)(n)),n.onStreetChosen=n.onStreetChosen.bind(Object(P.a)(n)),n.changeQueryList=n.changeQueryList.bind(Object(P.a)(n)),n}return Object(B.a)(t,e),Object(F.a)(t,[{key:"onStreetChosen",value:function(){var e=document.querySelector(".search__button"),t=document.querySelector(".search__lctnIcn_arrow"),n=document.querySelector(".search__lctnIcn_marker");e.style.backgroundColor="#121212",e.style.color="#fff",t.style.display="none",n.style.display="none";var r=this.state.streetsList[0],a="".concat(r.data.street_type_full," ").concat(r.data.street).concat(r.data.house&&"\u043c\u0435\u0442\u0440\u043e"!==r.data.street_type_full?", ".concat(r.data.house).concat(r.data.block?r.data.block_type+r.data.block:""):"");(0,this.props.setCoords)({address_value:a,lng:r.data.geo_lon,lat:r.data.geo_lat})}},{key:"isDownshiftFocus",value:function(){var e=document.querySelector(".search__button"),t=document.querySelector(".search__mapPointer"),n=document.querySelector(".search__lctnIcn_arrow"),r=document.querySelector(".search__lctnIcn_marker"),a="none"===getComputedStyle(this.searchLabelRef.current).display?"block":"none";this.searchLabelRef.current.style.display=a,"block"===a?(this.searchInputRef.current.placeholder="",e.style.display="none",t.style.display="inline-block",n.style.display="none",r.style.display="inline-block"):(this.searchInputRef.current.placeholder="\u041a\u0443\u0434\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c?",e.style.display="block",t.style.display="block",n.style.display="inline-block",r.style.display="none")}},{key:"changeQueryList",value:function(e,t){var n=this;1===e&&Q((function(e){n.setState({streetsList:e}),n.onStreetChosen()}),t,e),Q((function(e){n.setState({streetsList:e})}),this.searchInputRef.current.value)}},{key:"render",value:function(){var e=this,t=this.state.streetsList;return o.a.createElement(H.a,{itemToString:function(e){return e?"".concat(e.data.street_type_full," ").concat(e.data.street).concat(e.data.house&&"\u043c\u0435\u0442\u0440\u043e"!==e.data.street_type_full?", ".concat(e.data.house).concat(e.data.block?e.data.block_type+e.data.block:""):""):""},onChange:function(t){e.changeQueryList(1,t.unrestricted_value)}},(function(n){var r=n.getInputProps,a=n.getItemProps,i=n.getMenuProps,c=n.isOpen,s=n.highlightedIndex;return o.a.createElement("div",null,o.a.createElement(K,{htmlFor:"searchInput",ref:e.searchLabelRef},"\u041a\u0443\u0434\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c?"),o.a.createElement(Z,Object.assign({},r(),{ref:e.searchInputRef,id:"searchInput",onInput:e.changeQueryList,onFocus:e.isDownshiftFocus,onBlur:e.isDownshiftFocus})),o.a.createElement($,i(),c?t.filter((function(e){return null!==e.data.street})).map((function(e,t){return o.a.createElement("li",a({key:e.value,index:t,item:e,style:{borderBottomColor:s===t?"#EFB8AF":"#EEE"}}),o.a.createElement("span",{className:"street"},("\u043c\u0435\u0442\u0440\u043e"!==e.data.street_type_full?"".concat(e.data.street_type_full," "):"")+(e.data.street?e.data.street:"")+(e.data.house?", ".concat(e.data.house):"")+(e.data.block?e.data.block_type+e.data.block:"")),o.a.createElement("br",null),o.a.createElement("span",{className:"region"},"\u043c\u0435\u0442\u0440\u043e"===e.data.street_type_full?"".concat(e.data.street_type_full.charAt(0).toUpperCase()+e.data.street_type_full.slice(1),", ").concat(e.data.city):e.data.city))})):null))}))}}]),t}(o.a.Component);function te(){var e=Object(f.a)(["\n      animation: "," 0.5s linear forwards;\n    "]);return te=function(){return e},e}function ne(){var e=Object(f.a)(["\n      animation: "," 0.5s linear forwards;\n    "]);return ne=function(){return e},e}function re(){var e=Object(f.a)(['\n  font-family: "GTWalsheimPro", sans-serif;\n  font-weight: normal;\n  font-size: 17px;\n  line-height: 19px;\n  display: block;\n  width: auto;\n  margin: 17px auto;\n  border: 0;\n  color: ',";\n  background: ",";\n\n  & > .search__lctnIcn{\n    margin-right: 10px;\n  }\n\n  & > .search__lctnIcn_marker{\n    display: none;\n  }\n"]);return re=function(){return e},e}function ae(){var e=Object(f.a)(["\n  margin-bottom: 25px;\n\n  ","\n"]);return ae=function(){return e},e}function oe(){var e=Object(f.a)(["\n  font-size: 25px;\n  float: right;\n"]);return oe=function(){return e},e}function ie(){var e=Object(f.a)(["\n  from {\n    top: 100%;\n    visibility: hidden;\n  }\n  50%  { visibility: visible; }\n  to {\n    top: 20%;\n  }\n"]);return ie=function(){return e},e}function ce(){var e=Object(f.a)(["\n  from {\n    top: 20%;\n  }\n  50%  { visibility: visible; }\n  to {\n    top: 100%;\n    visibility: hidden;\n  }\n"]);return ce=function(){return e},e}function se(){var e=Object(f.a)(["\n    display: block;\n    visibility: visible;\n    position: absolute;\n    left: 0;\n    top: 100%;\n    width: 100%;\n    max-height: 670px;\n    height: 80%;\n    background: ",";\n    box-sizing: border-box;\n    padding: 20px;\n    border-radius: 20px 20px 0px 0px;\n"]);return se=function(){return e},e}var le=c.b.div(se(),(function(e){return e.theme.secondaryColor})),ue=Object(c.c)(ce()),de=Object(c.c)(ie()),pe=Object(c.b)(h.a)(oe()),fe=Object(c.b)(w)(ae(),(function(e){if(!e.isActive)return"\n        background: ".concat(e.theme.nonActiveColor,";\n        color: #EEEEEE;")})),he=c.b.button(re(),(function(e){return e.theme.primaryColor}),(function(e){return e.theme.secondaryColor}));var be=function(e){var t=e.visibility;function n(){e.setSearchContVisibility("down")}"up"===t?(le=Object(c.b)(le)(ne(),de),e.setSearchContVisibility("none")):"down"===t&&(le=Object(c.b)(le)(te(),ue),e.setSearchContVisibility("none"));var r=Object(a.useState)({address_value:"",lng:30.3,lat:59.95,zoom:[10.5]}),i=Object(p.a)(r,2),s=i[0],l=i[1];return o.a.createElement(le,null,o.a.createElement(pe,{icon:b.e,onClick:function(){n()}}),o.a.createElement(ee,{setCoords:l}),o.a.createElement(fe,{isActive:!1,className:"search__button",onClick:function(){e.setCoords({address_value:s.address_value,lng:s.lng,lat:s.lat,zoom:[17.5]}),n()}},"\u0414\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u044e\u0434\u0430"),o.a.createElement(he,{className:"search__mapPointer",onClick:function(){n()}},o.a.createElement(h.a,{className:"search__lctnIcn search__lctnIcn_arrow",icon:b.c}),o.a.createElement(h.a,{className:"search__lctnIcn search__lctnIcn_marker",icon:b.d}),"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"))};function me(){var e=Object(f.a)(["\n  position: relative;\n  max-width: 480px;\n  width: 100%;\n  max-height: 815px;\n  height: 100%;\n  overflow: hidden;\n  margin: 0 auto;\n"]);return me=function(){return e},e}var ye=c.b.div(me());var ve=function(){var e=Object(a.useState)({address_value:"\u041d\u0435\u0432\u0441\u043a\u0438\u0439 \u043f\u0440., 28",lng:30.3260765,lat:59.9355354,zoom:[10.5]}),t=Object(p.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)("none"),c=Object(p.a)(i,2),s=c[0],l=c[1];return o.a.createElement(ye,null,o.a.createElement(E,null),o.a.createElement(O,{coords:n,setMapCoords:r}),o.a.createElement(R,null),o.a.createElement(S,null),o.a.createElement(W,{setVisibility:l,coordsAddress:n,setCoordsAddress:r}),o.a.createElement(be,{setCoords:r,visibility:s,setSearchContVisibility:l}))};Object(i.render)(o.a.createElement(c.a,{theme:r},o.a.createElement(ve,null)),document.querySelector(".main"))}},[[31,1,2]]]);
//# sourceMappingURL=main.aad3c831.chunk.js.map